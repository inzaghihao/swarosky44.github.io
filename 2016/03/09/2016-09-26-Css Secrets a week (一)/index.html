<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Engineer | Listen</title>
  <meta name="description" content="{{theme.description}}" />
  <meta name="keywords" content="{{theme.keywords}}" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Css Secrets a weekCss Secrets 是我读过的最好的 CSS 学习的书籍之一了。
二刷 Css Secrets 希望自己能够更加聚焦 &amp;amp; 思考作者提供的 demo 的底层原理以及实现方式。
引言浏览器前缀  
在前几年的 CSS 开发过程中，开发者经常需要在 CSS3 新增的属性前加上浏览器的特定前缀。比如 FireFox 的 -moz-，IE 的 -ms-， Op">
<meta property="og:type" content="article">
<meta property="og:title" content="Engineer | Listen">
<meta property="og:url" content="http://yoursite.com/2016/03/09/2016-09-26-Css Secrets a week (一)/index.html">
<meta property="og:site_name" content="Engineer | Listen">
<meta property="og:description" content="Css Secrets a weekCss Secrets 是我读过的最好的 CSS 学习的书籍之一了。
二刷 Css Secrets 希望自己能够更加聚焦 &amp;amp; 思考作者提供的 demo 的底层原理以及实现方式。
引言浏览器前缀  
在前几年的 CSS 开发过程中，开发者经常需要在 CSS3 新增的属性前加上浏览器的特定前缀。比如 FireFox 的 -moz-，IE 的 -ms-， Op">
<meta property="og:updated_time" content="2016-09-26T09:52:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Engineer | Listen">
<meta name="twitter:description" content="Css Secrets a weekCss Secrets 是我读过的最好的 CSS 学习的书籍之一了。
二刷 Css Secrets 希望自己能够更加聚焦 &amp;amp; 思考作者提供的 demo 的底层原理以及实现方式。
引言浏览器前缀  
在前几年的 CSS 开发过程中，开发者经常需要在 CSS3 新增的属性前加上浏览器的特定前缀。比如 FireFox 的 -moz-，IE 的 -ms-， Op">
  
  
    <link rel="icon" href="/favicon.png">
  
  
	<script src="https://use.typekit.net/eyf3hir.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script>
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  otaku keeps alive
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
	<aside id="site-menu">
  	<nav>
  		
        <a href="/" class="nav-home nav">
          Home
        </a>
      
        <a href="/about" class="nav-about nav">
          About
        </a>
      
        <a href="/archives" class="nav-archives nav">
          Archives
        </a>
      
    </nav>
	</aside>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      <article id="post-2016-09-26-Css Secrets a week (一)"
  class="post article white-box article-type-post"
  itemscope itemprop="blogPost">
	<h2 class="title">
  	<a href="/2016/03/09/2016-09-26-Css Secrets a week (一)/">
    	
    </a>
  </h2>
	<time>
	  3月 9, 2016
	</time>
	<section class="content">
  	<div class="article-entry" itemprop="articleBody">
    	<h1 id="Css-Secrets-a-week"><a href="#Css-Secrets-a-week" class="headerlink" title="Css Secrets a week"></a>Css Secrets a week</h1><p>Css Secrets 是我读过的最好的 CSS 学习的书籍之一了。</p>
<p>二刷 Css Secrets 希望自己能够更加聚焦 &amp; 思考作者提供的 demo 的底层原理以及实现方式。</p>
<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p><strong>浏览器前缀</strong>  </p>
<p>在前几年的 CSS 开发过程中，开发者经常需要在 CSS3 新增的属性前加上浏览器的特定前缀。比如 FireFox 的 -moz-，IE 的 -ms-， Opera 的 -o-， 以及 chrome 的 -webkit-。但是本书并不会去写这样的样式兼容代码，因为在现在看来，已经越来越多的厂商取消掉了实验性属性的浏览器前缀. 在未来实验性属性的使用是通过配置设置的，所以这里我们也不会支持。</p>
<p><strong>CSS 编码技巧</strong> </p>
<ol>
<li><p>减少代码重复</p>
<p> 原版 -</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">padding: 6px 16px;</div><div class="line">border: 1px solid #446d88;</div><div class="line">background: #58a linear-gradient(#77a0bb, #58a);</div><div class="line">border-radius: 4px;</div><div class="line">box-shadow: 0 1px 5px gray;</div><div class="line">color: white;</div><div class="line">text-shadow: 0 -1px 1px #335166;</div><div class="line">font-size: 20px;</div><div class="line">line-height: 30px;</div></pre></td></tr></table></figure>
</li>
</ol>
<pre><code>改进版 -

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">padding: .3rem .8rem;</div><div class="line"> 	border: 1px solid #446d88;</div><div class="line"> 	background: #58a linear-gradient(hsla(0,0%,100%,.2), transparent);</div><div class="line"> 	border-radius: .2rem;</div><div class="line"> 	box-shadow: 0 .05rem .25rem rgba(0, 0, 0, .5);</div><div class="line"> 	color: #fff;</div><div class="line"> 	text-shadow: 0. -.05rem .05rem rgba(0, 0, 0, .5);</div><div class="line"> 	font-size: 1rem;</div><div class="line"> 	line-height: 1.5;</div></pre></td></tr></table></figure>

![Alt Image Text](http://oe3rjg2g6.bkt.clouddn.com/button.jpg)

改进版与原版代码分析 - 
</code></pre><p><strong>将 <code>px</code> 的绝对单位全部替换成 <code>rem</code> 的相对单位</strong> - 如果我们希望整站的元素大小进行一定缩放的时候，这个 <code>px</code> 的绝对单位会让我们不得不重新全部修改一遍。相对而言，相对单位 <code>rem</code> 可以减少 99% 的工作。我们只需要更改一下 html 里面的 <code>font-size</code> 大小。</p>
<p><strong>将 <code>line-height</code> 从固定数值 <code>px</code> 变成 倍数关系 1.5</strong> - 如果我们希望修改一下字体大小，那我使用 <code>px</code> 去定义的 <code>line-height</code> 的话，我们也不得不跟随修改一下 <code>line-height</code> 的大小。直接使用倍数关系，css 会自动计算为字体大小的倍数关系，比如这里就是字体的 1.5 倍大小。实际上大部分设计师在设计的时候也会设置行高为字体的 1.4 - 2 倍。</p>
<p><strong>将 background 的第二层 <code>linear-gradient(#77a0bb, #58a)</code> 修改为 <code>linear-gradient(hsla(0%, 0%, 100%, .2), transparent)</code></strong> - 这是因为对于按钮而言，它的明暗面是跟随背景颜色而变化的。在实际项目中，我们还会有红色、绿色、蓝色等按钮，这个时候固定的色值 #77a0bb 就不合适，这里有个小技巧就是将第二层的背景色用半透明的黑或白覆盖在背景色上就可以产生合适的明暗面。</p>
<p><strong>将 <code>text-shadow &amp; box-shadow</code> 投影的固定色值修改成半透明的黑</strong> 这是因为 固定色值的投影只适合某个颜色的背景，而具有透明度的黑则能适应更多的场景。 </p>
<p>经过上面的改进，我们新的按钮就可以使用在更多的场景中，并且修改 元素大小 或者 字号大小则工作量要减少许多。除了上面提及的 单位 &amp; 色值等技巧，还有以下几点也可以让我们的代码更加 DRY -</p>
<p><strong>代码易维护 vs 代码量少</strong></p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">border-width: 10px 10px 10px 0;</div></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">border-width: 10px;</div><div class="line">border-left-width: 0;</div></pre></td></tr></table></figure>
</code></pre><p>上面两段代码虽然第一段比较少，但是第二段更具有易读性，并且我们修改左右没有边框或者右边或者上下的时候，会更加的方便。</p>
<p><strong>currentColor</strong></p>
<p>这是 CSS3 之后提出的第一个和色值有关的 变量。这是一个指向当前文本颜色的变量<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hr &#123;</div><div class="line">  color: currentColor;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>currentColor</code> 可以使用的地方还包括了 <code>box-shadow</code> <code>text-shadow</code> <code>border-color</code><br><code>outline-color</code>等等。</p>
<p><strong>继承</strong></p>
<p>关于 <code>inherit</code> 属性一直存在，但能够正确使用却很难。它会将当前使用的属性与父元素该属性绑定并保持一致（伪元素则绑定到宿主元素身上）。在 <code>font</code> <code>background</code> 等都可以使用。善用 <code>inherit</code> 可以让我们遇见样式需求的时候改动代码量大大减小。</p>
<ol>
<li>相信眼睛而不是数字</li>
</ol>
<p>产品上线生产环境之后，出现在用于眼中的样式才真正的最重要的，因为视觉上的体验笔记一味遵守设计师定义的数值更加具有意义。（但是绝对不建议在开发初期或者中期就尝试这样的代码更新，那样只会让自己更加容易出错）</p>
<ol>
<li>响应式设计</li>
</ol>
<p>在这几年移动互联的概念越发火热，很多网站追求的不再是 PC 上的样式，更希望能够兼容到移动端。响应式主要使用的 CSS3 中提供的媒体查询 <code>@media</code>，但是对 <code>@media</code> 的滥用会造成难以想象的恶果，代码可维护性会被破坏殆尽。之后人们对于响应式网站的实现采用的是一套技术融合实现的 - <code>rem vm vh</code> 单位 + 弹性布局 + <code>media</code></p>
<p>这里作者给出了几点建议，可以让我们更少的使用 <code>media</code>，让网页自适应屏幕大小的改变。</p>
<p><strong>媒体查询的断点</strong></p>
<p>媒体查询是基于一定断点选择适用样式的 <code>max-width: 480px; min-width: 860px;</code> 诸如此类的数值我们称之为断点，这些断点的值不应该是根据特定设备而言，如果针对 Iphone5 的 320px 编写一套样式，又为 Iphone6 的 375px 编写一套样式的话，我们会陷入无穷无尽的样式修复的坑中。所以建议按照设计师的设计图选择断点。</p>
<p><strong>百分比宽高取代固定宽高</strong> 建议使用 <code>vm vh vmin vmax</code> 这样基于视口的百分比单位，采用固定单位会死的很惨…</p>
<p><strong>大屏下对固定宽度使用 <code>max-width</code> 而不是 <code>width</code></strong> 这样能自适应小屏</p>
<p><strong>替换元素设置 <code>max-width：100%</code></strong> 替换元素指 <code>img object video frame</code> 等</p>
<p><strong><code>background-size: cover</code>背景图铺满容器</strong></p>
<p><strong>采用弹性盒子布局</strong> <code>display: flex</code> 或者用 <code>display: inline-block; white-space: wrap</code> 来处理行列布局非常有效。</p>
<p><strong>多列布局指定 <code>column-width</code></strong> 不指定 <code>column-count</code>，这样可以自动在小屏手机上显示为单列布局。</p>
<ol>
<li>合理使用简写</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">background: rebeccapurple;</div><div class="line">background-color: rebeccapurple;</div><div class="line">``` </div><div class="line"></div><div class="line">上述代码产生最终效果虽然一致，但是并不代表代码含义一致，前者采用简写，默认了许多其他属性。</div></pre></td></tr></table></figure>
<p>background: background-color | background-image | background-repeat |               background-attachment | background-position ;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">这样默认保护了我们我们对背景色的设置，如果有人改写添加了一个 选择器优先级更高的样式，并设置了 `background-image` 这样对于第二行代码而言，背景色就会被背景图片覆盖。</div><div class="line"></div><div class="line">使用简写除了一定程度自我保护，还可以减少重复代码</div></pre></td></tr></table></figure></p>
<p>background: url(tr.png) top right,<br>              url(br.png) bottom left,<br>              url(bl.png) bottom left;<br>background-repeat: no-repeat;<br>background-size: 2rem 2rem;<br><code>``
这里我们渲染了三层的背景，被单独提取出来的</code>background-` 属性会自动分配到所有背景上。</p>
<ol>
<li><p>是否使用预处理器</p>
<p> 预处理器给我们带来的好处是可见的，比如变量、函数、嵌套语法让我们写样式更加方便。所以选择不选择使用预处理器得看个人。不过在将来，CSS 中必然会逐步引入预处理器的这些优势，比如变量、函数等。那个时候我们就不必再依赖预处理器了。</p>
</li>
</ol>

  	</div>
	  
	  <div class="article-tags tags">
		  
	  </div>
	</section>
</article>



      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  
	<div class="search">
	  <form name="searchform" id="searchform" class="u-search-form">
	    <input type="text" id="searchinput" class="u-search-input" placeholder="Looking for something?" />
	    <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit">
	      <span class="icon icon-search"></span>
	    </button>
	  </form>
	</div>
	

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/artchen" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/otakism" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
        <a href="https://plus.google.com/+ArtChenOtakism/posts" class="social google"
          target="_blank" rel="external">
          <span class="icon icon-google"></span>
        </a>
      
        <a href="http://weibo.com/otakism/" class="social sina-weibo"
          target="_blank" rel="external">
          <span class="icon icon-sina-weibo"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div>
  <div>&copy; <a href="/">Engineer | Listen</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
  </div>

  
  

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>

<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "google";
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
