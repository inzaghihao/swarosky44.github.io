<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Engineer | Listen</title>
  <meta name="description" content="{{theme.description}}" />
  <meta name="keywords" content="{{theme.keywords}}" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="DOM是一种API，针对HTML和XML（暂不予以讨论）。DOM将一个页面描述成一个树形结构，树形结构中每个节点就是DOM实现的节点类型。
1.Node类型对页面中各种类型的节点的统一描述。在DOM1 级中定义了node的接口，JS中所有节点类型都继承自NODE类型，因此这些节点类型都可以共享一些基本属性和方法。
nodeType属性：判断节点类型；ex：
12if(someNode.nodeTy">
<meta property="og:type" content="article">
<meta property="og:title" content="Engineer | Listen">
<meta property="og:url" content="http://yoursite.com/2016/07/12/2016-02-06-JS DOM编程(1)/index.html">
<meta property="og:site_name" content="Engineer | Listen">
<meta property="og:description" content="DOM是一种API，针对HTML和XML（暂不予以讨论）。DOM将一个页面描述成一个树形结构，树形结构中每个节点就是DOM实现的节点类型。
1.Node类型对页面中各种类型的节点的统一描述。在DOM1 级中定义了node的接口，JS中所有节点类型都继承自NODE类型，因此这些节点类型都可以共享一些基本属性和方法。
nodeType属性：判断节点类型；ex：
12if(someNode.nodeTy">
<meta property="og:updated_time" content="2016-07-12T02:55:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Engineer | Listen">
<meta name="twitter:description" content="DOM是一种API，针对HTML和XML（暂不予以讨论）。DOM将一个页面描述成一个树形结构，树形结构中每个节点就是DOM实现的节点类型。
1.Node类型对页面中各种类型的节点的统一描述。在DOM1 级中定义了node的接口，JS中所有节点类型都继承自NODE类型，因此这些节点类型都可以共享一些基本属性和方法。
nodeType属性：判断节点类型；ex：
12if(someNode.nodeTy">
  
  
    <link rel="icon" href="/favicon.png">
  
  
	<script src="https://use.typekit.net/eyf3hir.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script>
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  otaku keeps alive
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
	<aside id="site-menu">
  	<nav>
  		
        <a href="/" class="nav-home nav">
          Home
        </a>
      
        <a href="/about" class="nav-about nav">
          About
        </a>
      
        <a href="/archives" class="nav-archives nav">
          Archives
        </a>
      
    </nav>
	</aside>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      <article id="post-2016-02-06-JS DOM编程(1)"
  class="post article white-box article-type-post"
  itemscope itemprop="blogPost">
	<h2 class="title">
  	<a href="/2016/07/12/2016-02-06-JS DOM编程(1)/">
    	
    </a>
  </h2>
	<time>
	  7月 12, 2016
	</time>
	<section class="content">
  	<div class="article-entry" itemprop="articleBody">
    	<p>DOM是一种API，针对HTML和XML（暂不予以讨论）。DOM将一个页面描述成一个树形结构，树形结构中每个节点就是DOM实现的节点类型。</p>
<h3 id="1-Node类型"><a href="#1-Node类型" class="headerlink" title="1.Node类型"></a>1.Node类型</h3><p>对页面中各种类型的节点的统一描述。在DOM1 级中定义了node的接口，JS中所有节点类型都继承自NODE类型，因此这些节点类型都可以共享一些基本属性和方法。</p>
<p>nodeType属性：判断节点类型；ex：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">if(someNode.nodeType == Node.ELEMENT_NODE)&#123;&#125;;</div><div class="line">if(someNode.nodeType == 1)&#123;&#125;;</div></pre></td></tr></table></figure>
<p>这里我们更加推荐第二种通过数值的方式去判断一个节点的类型，因为在IE中是无法访问Node类型的。</p>
<p>节点关系：</p>
<p>1.childNodes：</p>
<p><code>someNode.childNodes</code>返回该节点下所有子节点，所有子节点保存在一个<br>NodeList类型的对象里面，这是一个类数组对象，但并非真正的数组，不过也有length属性。这个类数组对象能够实时反馈该节点下子节点的情况，也就是说NodeList对象不是某个时刻的DOM结构的描述，而是DOM结构动态执行查询的结果。</p>
<p>访问该对象里面的子节点可以通过两种方式，nodeList.item(index)或者nodeList[index]。</p>
<p>将nodeList对象转化成真正的数组可以学习arguments对象，使用Array.prototype.splice.call()，但是IE8及其以下版本是无法使用这个方法，因为在IE8里面nodeList对象被描述成了一个COM对象，所以推荐使用下面可以运行在任何浏览器的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function toArray(nodeList)&#123;</div><div class="line">  var arr = [];</div><div class="line">  try&#123;</div><div class="line">    arr = Array.prototype.splice.call(nodeList);</div><div class="line">  &#125;catch(ex)&#123;</div><div class="line">  	for(var i=0;i&lt;nodeList.length;i++)&#123;</div><div class="line">  	  arr.push(nodeList[i]);</div><div class="line">  	&#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2.previousSibling、nextSibling</p>
<p>前一个兄弟节点、下一个兄弟节点</p>
<p>3.firstChild、lastChild</p>
<p>第一个子节点、最后一个子节点</p>
<p>4.hasChildNodes():</p>
<p><code>someNode.hasChildNodes()</code>返回值为布尔型，用于判断一个节点下是否存在子节点。</p>
<p>5.appendChild()</p>
<p><code>parentNode.appendNode(newNode)</code>向一个节点下添加一个子节点，自动添加到最后一个子节点位置。如果添加的节点并非新节点，而是一个存在于其他节点下的子节点，则会将该节点移动到现在父节点的childList列表的末尾。返回值为该newNode</p>
<p>6.insertBefore()</p>
<p><code>parentNode.insertBefore(newNode,oldNode)</code>在某个节点之前插入一个节点。返回值为插入的newNode</p>
<p>7.replaceNode()</p>
<p><code>parentNode.replaceNode(newNode,oldNode)</code>返回被替换的节点</p>
<p>8.removeNode()</p>
<p><code>parentNode.removeNode(oldNode)</code>移除一个已经存在于文档流中的节点。</p>
<p>9.cloneNode()</p>
<p><code>someNode.cloneNode(true|false)</code>参数为true代表为深复制，会复制节点及其之下的整个子节点树形结构；参数为false代表为浅复制，仅仅复制该节点。克隆了某个节点之后，该节点是并未出现在文档流之中，需要调用之前提及的几种方法将其插入到文档流之中。<br>btw：克隆一个节点并不会克隆该节点上绑定的元素事件，但是IE在某些版本存在一些bug，会连同绑定事件克隆过来，需要注意。</p>
<h3 id="2-Document类型"><a href="#2-Document类型" class="headerlink" title="2.Document类型"></a>2.Document类型</h3><p>document类型代表之前提及的文档流，而document对象是HTMLDocument（继承自Document类型）的实例。</p>
<p>document对象是window对象的一个属性，可以给我们提供许多与页面相关的信息，以及对文档操作的方法。</p>
<p>1.document.documentElement <html>元素(文档节点下的唯一一个子节点)</html></p>
<p>2.document.body <body>元素</body></p>
<p>3.document.doctype &lt;!DOCTYPE&gt;元素</p>
<p>4.document.title 浏览器上该页面的标题，title的值映射在 title 标签上。</p>
<p>5.document.url 当前页面的完整URL</p>
<p>6.document.domain 当前页面的域名(可修改值)</p>
<p>7.document.referrer 链接到当前页面的前一个页面的URL</p>
<p>8.document.getElementById() 根据ID查找元素</p>
<p>9.document.getElementsByTagName() 根据标签名查找元素，返回值为一个HTMLCollection对象，该对象为一个动态对象(类数组对象，可以同item(index)或者[index]访问对象中的元素)，会实时反映该标签名对应的对象。HTMLCollection对象有一个内置的属性，namedItem()可以通过标签中的name属性的值查找对象中的元素</p>
<p>10.document.getElementsByName() 通过标签中name属性的值来搜索DOM元素，返回一个HTMLCollection对象。</p>
<p>11.document.anchors 返回有name属性的 a </p>
<p>12.document.forms 返回所有 form </p>
<p>13.document.imgs 返回所有 img </p>
<p>14.document.links 返回所有带有href属性的 a </p>
<h3 id="3-Element类型"><a href="#3-Element类型" class="headerlink" title="3.Element类型"></a>3.Element类型</h3><p>Element类型是HTML中最常用的节点类型，元素节点具有以下特征：</p>
<p>1.nodeType = 1</p>
<p>2.nodeName 为元素的标签名</p>
<p>3.nodeValue = null</p>
<p>4.parentNode为Document或者其他元素节点</p>
<p>5.具有childNode</p>
<p>访问一个元素的标签名可以通过属性<code>nodeName</code>或者<code>targetName</code>，但是使用<code>targetName</code>需要注意的是返回值是大写的。因此需要判断标签名的时候，推荐使用下面统一代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if(element.tagName.toLowerCase() == &apos;div&apos;)&#123;&#125;;</div></pre></td></tr></table></figure>
<h4 id="1-HTML元素"><a href="#1-HTML元素" class="headerlink" title="1.HTML元素"></a>1.HTML元素</h4><p>所有 html 元素都是 HTMLElment 类型，HTMLElement类型则是继承自Element类型然后添加了一些私有属性。html元素具有以下特征：</p>
<p>1.id 元素在文档流中的唯一标示</p>
<p>2.className 与元素的class属性相对应，但是class是ECMAScript的关键字。</p>
<p>3.title、lang、dir 是一些不常用的属性。</p>
<p>以上的特征属性都是可以赋值修改的，在DOM操作中推荐使用这种方式修改元素的特征属性，但是自定义属性则不可以如此实现。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var div = document.getElementById(&apos;myDiv&apos;);</div><div class="line">div.id = &apos;someOtherId&apos;;</div><div class="line">div.className = &apos;ft&apos;;</div></pre></td></tr></table></figure>
<p>除了直接访问元素的特征属性之外，还有 <code>getAttribut()</code> <code>setAttribute()</code> <code>removeAttribute()</code> 三种方法也可以实现对元素属性的操作。</p>
<p>1.getAttribute()</p>
<p>取得元素的指定属性节点，</p>

  	</div>
	  
	  <div class="article-tags tags">
		  
	  </div>
	</section>
</article>



      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  
	<div class="search">
	  <form name="searchform" id="searchform" class="u-search-form">
	    <input type="text" id="searchinput" class="u-search-input" placeholder="Looking for something?" />
	    <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit">
	      <span class="icon icon-search"></span>
	    </button>
	  </form>
	</div>
	

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/artchen" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/otakism" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
        <a href="https://plus.google.com/+ArtChenOtakism/posts" class="social google"
          target="_blank" rel="external">
          <span class="icon icon-google"></span>
        </a>
      
        <a href="http://weibo.com/otakism/" class="social sina-weibo"
          target="_blank" rel="external">
          <span class="icon icon-sina-weibo"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div>
  <div>&copy; <a href="/">Engineer | Listen</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
  </div>

  
  

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>

<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "google";
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
